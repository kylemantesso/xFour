{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":";;;AAkGO,IAAM,aAAN,MAAiB;AAAA,EAItB,YAAY,MAAA,EAA0B;AACpC,IAAA,IAAA,CAAK,SAAS,MAAA,CAAO,MAAA;AACrB,IAAA,IAAA,CAAK,OAAA,GAAU,OAAO,OAAA,IAAW,qBAAA;AAAA,EACnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,MAAM,SAAS,OAAA,EAA+C;AAE5D,IAAA,MAAM,IAAI,MAAM,qBAAqB,CAAA;AAAA,EACvC;AACF;AAYO,SAAS,iBACd,QAAA,EAC2B;AAC3B,EAAA,IAAI,QAAA,CAAS,WAAW,GAAA,EAAK;AAC3B,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,OAAO;AAAA,IACL,kBAAA,EAAoB,QAAA,CAAS,OAAA,CAAQ,GAAA,CAAI,kBAAkB,CAAA,IAAK,MAAA;AAAA,IAChE,cAAA,EAAgB,QAAA,CAAS,OAAA,CAAQ,GAAA,CAAI,cAAc,CAAA,IAAK,MAAA;AAAA,IACxD,gBAAA,EAAkB,QAAA,CAAS,OAAA,CAAQ,GAAA,CAAI,gBAAgB,CAAA,IAAK,MAAA;AAAA,IAC5D,eAAA,EAAiB,QAAA,CAAS,OAAA,CAAQ,GAAA,CAAI,eAAe,CAAA,IAAK,MAAA;AAAA,IAC1D,cAAA,EAAgB,QAAA,CAAS,OAAA,CAAQ,GAAA,CAAI,cAAc,CAAA,IAAK;AAAA,GAC1D;AACF;AAKO,SAAS,kBAAkB,QAAA,EAA6B;AAC7D,EAAA,OAAO,SAAS,MAAA,KAAW,GAAA;AAC7B;AAGO,IAAM,OAAA,GAAU","file":"index.js","sourcesContent":["/**\n * x402 Gateway SDK\n *\n * TypeScript SDK for interacting with the x402 payment gateway.\n */\n\n// ============================================\n// TYPES\n// ============================================\n\n/**\n * Configuration options for the x402 client\n */\nexport interface X402ClientConfig {\n  /**\n   * Your x402 API key\n   */\n  apiKey: string;\n\n  /**\n   * Gateway base URL (defaults to production)\n   */\n  baseUrl?: string;\n}\n\n/**\n * x402 invoice headers as received from a 402 response\n */\nexport interface X402InvoiceHeaders {\n  \"X-402-Invoice-Id\"?: string;\n  \"X-402-Amount\"?: string;\n  \"X-402-Currency\"?: string;\n  \"X-402-Network\"?: string;\n  \"X-402-Pay-To\"?: string;\n}\n\n/**\n * Quote request payload\n */\nexport interface QuoteRequest {\n  requestUrl: string;\n  invoiceHeaders: X402InvoiceHeaders;\n}\n\n/**\n * Quote response when payment is allowed\n */\nexport interface QuoteResponseAllowed {\n  status: \"allowed\";\n  paymentId: string;\n  invoiceId: string;\n  mneeAmount: number;\n  fxRate: number;\n}\n\n/**\n * Quote response when payment is denied\n */\nexport interface QuoteResponseDenied {\n  status: \"denied\";\n  reason: string;\n  invoiceId: string | null;\n  mneeAmount: number | null;\n  fxRate: number | null;\n}\n\n/**\n * Union type for quote responses\n */\nexport type QuoteResponse = QuoteResponseAllowed | QuoteResponseDenied;\n\n// ============================================\n// CLIENT\n// ============================================\n\n/**\n * x402 Gateway Client\n *\n * @example\n * ```typescript\n * import { X402Client } from '@x402/sdk';\n *\n * const client = new X402Client({\n *   apiKey: 'x402_...',\n * });\n *\n * const quote = await client.getQuote({\n *   requestUrl: 'https://api.example.com/resource',\n *   invoiceHeaders: {\n *     'X-402-Invoice-Id': 'inv_123',\n *     'X-402-Amount': '0.50',\n *     'X-402-Currency': 'USDC',\n *     'X-402-Network': 'base',\n *     'X-402-Pay-To': '0x...',\n *   },\n * });\n * ```\n */\nexport class X402Client {\n  private readonly apiKey: string;\n  private readonly baseUrl: string;\n\n  constructor(config: X402ClientConfig) {\n    this.apiKey = config.apiKey;\n    this.baseUrl = config.baseUrl ?? \"https://api.x402.io\";\n  }\n\n  /**\n   * Get a quote for an x402 payment\n   *\n   * @param request - The quote request containing the target URL and invoice headers\n   * @returns A promise that resolves to the quote response\n   */\n  async getQuote(request: QuoteRequest): Promise<QuoteResponse> {\n    // TODO: Implement actual API call\n    throw new Error(\"Not implemented yet\");\n  }\n}\n\n// ============================================\n// UTILITIES\n// ============================================\n\n/**\n * Parse x402 headers from a Response object\n *\n * @param response - A fetch Response with 402 status\n * @returns Parsed invoice headers or null if not a valid 402 response\n */\nexport function parseX402Headers(\n  response: Response\n): X402InvoiceHeaders | null {\n  if (response.status !== 402) {\n    return null;\n  }\n\n  return {\n    \"X-402-Invoice-Id\": response.headers.get(\"X-402-Invoice-Id\") ?? undefined,\n    \"X-402-Amount\": response.headers.get(\"X-402-Amount\") ?? undefined,\n    \"X-402-Currency\": response.headers.get(\"X-402-Currency\") ?? undefined,\n    \"X-402-Network\": response.headers.get(\"X-402-Network\") ?? undefined,\n    \"X-402-Pay-To\": response.headers.get(\"X-402-Pay-To\") ?? undefined,\n  };\n}\n\n/**\n * Check if a response is a 402 Payment Required\n */\nexport function isPaymentRequired(response: Response): boolean {\n  return response.status === 402;\n}\n\n// Export version\nexport const VERSION = \"0.0.1\";\n\n"]}